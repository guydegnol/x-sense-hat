

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>For Python User &mdash; SunFounder X Sense HAT  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Play on Other Programming Platforms" href="play_on_other_programming_platforms.html" />
    <link rel="prev" title="Smart Sense HAT" href="smart_sense_hat.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SunFounder X Sense HAT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about_x_sense_hat.html">About X Sense HAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="components_list.html">Components List</a></li>
<li class="toctree-l1"><a class="reference internal" href="burning_system.html">Burning System</a></li>
<li class="toctree-l1"><a class="reference internal" href="assembling.html">Assembling</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="play_on_ezblock_studio.html">Play on Ezblock Studio</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="play_on_ezblock_studio.html#introduce-ezblock-studio">Introduce Ezblock Studio</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="play_on_ezblock_studio.html#programming">Programming</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="for_block_user.html">For Block User</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">For Python User</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#display-graphics">Display Graphics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testthe-vibration-motor">Testthe Vibration Motor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#display-temperature">Display Temperature</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sound-effect">Sound Effect</a></li>
<li class="toctree-l4"><a class="reference internal" href="#music-player">Music Player</a></li>
<li class="toctree-l4"><a class="reference internal" href="#point-line-rectangle-circle">Point Line Rectangle Circle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calibrate-the-mpu9250">Calibrate the MPU9250</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-from-mpu9250">Read from MPU9250</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attitude-angle">Attitude Angle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#make-gif">Make Gif</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spirit-level">Spirit Level</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gravity-ball-game">Gravity Ball Game</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compass">Compass</a></li>
<li class="toctree-l4"><a class="reference internal" href="#smart-sense-hat">Smart Sense HAT</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="play_on_other_programming_platforms.html">Play on Other Programming Platforms</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SunFounder X Sense HAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="play_on_ezblock_studio.html">Play on Ezblock Studio</a> &raquo;</li>
        
      <li>For Python User</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/for_python_user.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="for-python-user">
<h1>For Python User<a class="headerlink" href="#for-python-user" title="Permalink to this headline">¶</a></h1>
<p>Here we just show you the effect of this example implementation. You can go directly to the Examples page of Ezblock Studio to see the full codes and run them.</p>
<p>The examples are from simple to complex and it is recommended to run them in order.</p>
<div class="section" id="display-graphics">
<h2>Display Graphics<a class="headerlink" href="#display-graphics" title="Permalink to this headline">¶</a></h2>
<p>Here we will draw a funny character and show a heart on the screen.</p>
</div>
<div class="section" id="testthe-vibration-motor">
<h2>Testthe Vibration Motor<a class="headerlink" href="#testthe-vibration-motor" title="Permalink to this headline">¶</a></h2>
<p>We can use the slider in the <strong>Bluetooth Control</strong> page to control the frequency of the vibration motor on the X Sense HAT.</p>
<p>Click the remote controller icon to enter the Bluetooth Control page.</p>
<a class="reference internal image-reference" href="_images/python1.png"><img alt="_images/python1.png" class="align-center" src="_images/python1.png" style="width: 80px;" /></a>
<p>Click the start button at the top right, and then try to slide the bar.</p>
<a class="reference internal image-reference" href="_images/python2.jpg"><img alt="_images/python2.jpg" class="align-center" src="_images/python2.jpg" style="width: 250px;" /></a>
</div>
<div class="section" id="display-temperature">
<h2>Display Temperature<a class="headerlink" href="#display-temperature" title="Permalink to this headline">¶</a></h2>
<p>At this time the X Sense HAT is a thermometer to display the current temperature. You can also check the current temperature remotely on your device.</p>
</div>
<div class="section" id="sound-effect">
<h2>Sound Effect<a class="headerlink" href="#sound-effect" title="Permalink to this headline">¶</a></h2>
<p>X Sense Hat can make voice. You can type text to make it speak, or make specific sound effects.
Let us fire a gun as soon as a 3s countdown stops.</p>
</div>
<div class="section" id="music-player">
<h2>Music Player<a class="headerlink" href="#music-player" title="Permalink to this headline">¶</a></h2>
<p>In this example, the X Sense HAT acts as a Music Player, the up and down buttons of the joystick to control the volume of the Music Player and the left and right buttons to control the pause or play of the music.</p>
</div>
<div class="section" id="point-line-rectangle-circle">
<h2>Point Line Rectangle Circle<a class="headerlink" href="#point-line-rectangle-circle" title="Permalink to this headline">¶</a></h2>
<p>By creating a coordinate we can draw a point, a line, a rectangle and a circle at the  specified location on the X Sense HAT.</p>
</div>
<div class="section" id="calibrate-the-mpu9250">
<h2>Calibrate the MPU9250<a class="headerlink" href="#calibrate-the-mpu9250" title="Permalink to this headline">¶</a></h2>
<p>The InvenSense MPU9250 is a System in Package (SiP) that combines two chips: the MPU-6500 three-axis Accelerometer and three-axis Gyroscope; and the AK8963 three-axis Magnetometer.</p>
<p>Before using the MPU9250 chip, we need to calibrate different chips.</p>
<p><strong>Calibrate Accelerometer and Gyroscope</strong></p>
<p>After running the code, place the X Sense HAT horizontally, turn the A switch on and turn it off after 2 seconds, then the calibration is complete.</p>
<p>The X Sense HAT records the current horizontal position as a 0 degree point on the different axes of the Accelerometer and Gyroscope.</p>
<p><strong>Calibrate Magnetometer</strong></p>
<p>The figure below is the coordinate system that will be used to calibrate the magnetometer.</p>
<a class="reference internal image-reference" href="_images/tip34.jpg"><img alt="_images/tip34.jpg" class="align-center" src="_images/tip34.jpg" style="width: 400px;" /></a>
<p>Turn the B switch on（keep switch A off）, rotate the X Sense HAT clockwise around the <strong>y-axis</strong> by 720° and then rotate it back (also 720°), please control the speed so that the process takes about 15s.</p>
<a class="reference internal image-reference" href="_images/tip35.jpg"><img alt="_images/tip35.jpg" class="align-center" src="_images/tip35.jpg" style="width: 400px;" /></a>
<p>Similarly, rotate the X Sense HAT clockwise around the <strong>x-axis</strong> by 720° and then rotate it back (also 720°), please control the speed so that the process takes about 15s.</p>
<a class="reference internal image-reference" href="_images/tip36.jpg"><img alt="_images/tip36.jpg" class="align-center" src="_images/tip36.jpg" style="width: 400px;" /></a>
<p>Finally, rotate the X Sense HAT clockwise around the <strong>z-axis</strong> by 720° and then rotate it back (also 720°), please control the speed so that the process takes about 15s.</p>
<p>Turn off switch B to complete the calibration.</p>
<a class="reference internal image-reference" href="_images/tip37.jpg"><img alt="_images/tip37.jpg" class="align-center" src="_images/tip37.jpg" style="width: 400px;" /></a>
</div>
<div class="section" id="read-from-mpu9250">
<h2>Read from MPU9250<a class="headerlink" href="#read-from-mpu9250" title="Permalink to this headline">¶</a></h2>
<p>After calibrating the MPU9250 chip, let’s print the data read by the MPU9250 chip.</p>
<p>The following diagram shows the coordinate system for the Acelerometer and Gyroscope.</p>
<a class="reference internal image-reference" href="_images/tip41.png"><img alt="_images/tip41.png" class="align-center" src="_images/tip41.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the positive direction on each axis.</p>
</div>
<p><strong>Accelerometer</strong></p>
<p>Through the Accelerometer, we can read the acceleration values of the X Sense HAT on the different axes in <strong>g</strong>.</p>
<p>Place the X Sense HAT horizontally. At this time, the X Sense HAT will be subjected to a vertical downward acceleration of gravity, which is <strong>g (g=9.80665 N/kg)</strong>.</p>
<a class="reference internal image-reference" href="_images/tip42.jpg"><img alt="_images/tip42.jpg" class="align-center" src="_images/tip42.jpg" style="width: 400px;" /></a>
<p>When we print the acceleration value on the z-axis, the Debug Monitor will display a value around -1. Since the acceleration value is on the negative semi-axis of the z-axis, the unit is negative.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">forever</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">imu</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;accel&quot;</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">)))</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Rotate the X Sense HAT clockwise around the y-axis. At this time, the gravitational acceleration received by the X Sense HAT can be decomposed into an acceleration on the x-axis and
an acceleration on the z-axis, we can print these 2 accelerations on the Debug Monitor.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">forever</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="s1">&#39;-----------------&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">imu</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;accel&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">imu</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;accel&quot;</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">)))</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Gyroscope</strong></p>
<p>Through the Gyroscope, we can read the angular velocity values ​​of X Sense HAT on different coordinate axes, the unit size is degrees/second.</p>
<p>The judgment of the unit symbol follows the right-hand spiral rule. Hold the axis with your right hand and the thumb points in the direction of the positive semi-axis.</p>
<p>At this time, the direction pointed by the four fingers is the positive direction of the angular velocity value.</p>
<a class="reference internal image-reference" href="_images/tip64.jpg"><img alt="_images/tip64.jpg" class="align-center" src="_images/tip64.jpg" style="width: 400px;" /></a>
<p>Print the angular velocity value on the y-axis.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">forever</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">imu</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;gyro&quot;</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">)))</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Rotate the X Sense HAT clockwise around the y-axis. Because the angle of the X Sense HAT changes, the angular velocity value of the y-axis is generated and will be printed on Debug Monitor.
According to the right-hand screw rule, its unit is positive.</p>
<a class="reference internal image-reference" href="_images/tip44.jpg"><img alt="_images/tip44.jpg" class="align-center" src="_images/tip44.jpg" style="width: 400px;" /></a>
<p><strong>Magnetometer</strong></p>
<p>The following diagram shows the coordinate system for the Magnetometer.</p>
<a class="reference internal image-reference" href="_images/tip56.jpg"><img alt="_images/tip56.jpg" class="align-center" src="_images/tip56.jpg" style="width: 500px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the positive direction on each axis.</p>
</div>
<p>Through the magnetometer, we can read the magnetic field strength of X Sense HAT on different coordinate axes, the unit size is 15μT.</p>
<p>We can put a magnet on the positive x-axis of the X Sense HAT.</p>
<a class="reference internal image-reference" href="_images/tip66.jpg"><img alt="_images/tip66.jpg" class="align-center" src="_images/tip66.jpg" style="width: 500px;" /></a>
<p>Then print the value of the magnetic field strength on the positive semi-axis of the x-axis (in positive unit).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">forever</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">imu</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;mag&quot;</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">)))</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="attitude-angle">
<h2>Attitude Angle<a class="headerlink" href="#attitude-angle" title="Permalink to this headline">¶</a></h2>
<p>The X Sense HAT calculates the attitude angle of the current position so that we can know whether the X Sense HAT horizontal or not.</p>
<p>This is the coordinate system of the attitude angle.</p>
<a class="reference internal image-reference" href="_images/tip56.jpg"><img alt="_images/tip56.jpg" class="align-center" src="_images/tip56.jpg" style="width: 500px;" /></a>
<p>The unit symbol of the attitude angle also follows the right-hand spiral rule.</p>
<p>Hold the <strong>x-axis</strong> with your right hand and the thumb points in the direction of the positive semi-axis.
At this time, the direction pointed by the four fingers is the positive direction of the roll angle.</p>
<p>In the same way, hold the <strong>y-axis</strong> with your right hand and the thumb points in the direction of the positive semi-axis.
At this time, the direction pointed by the four fingers is the positive direction of the <strong>pitch angle</strong>.</p>
<a class="reference internal image-reference" href="_images/tip57.jpg"><img alt="_images/tip57.jpg" class="align-center" src="_images/tip57.jpg" style="width: 500px;" /></a>
<p>After the code runs, and then place the X Sense HAT horizontally, 0 will be printed on the Debug Monitor.</p>
<p>If you rotate the X Sense HAT 30 degrees clockwise around the <strong>x-axis</strong>, 30 will be printed on the Debug Monitor.</p>
<a class="reference internal image-reference" href="_images/tip70.jpg"><img alt="_images/tip70.jpg" class="align-center" src="_images/tip70.jpg" style="width: 400px;" /></a>
<p>Now change the <strong>aram</strong> variable to <strong>pitch</strong>, and then re-run the code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">forever</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">imu</span><span class="o">.</span><span class="n">get_posture_angle</span><span class="p">(</span><span class="n">aram</span> <span class="o">=</span> <span class="s2">&quot;pitch&quot;</span><span class="p">)))</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Rotate the X Sense HAT 30 degrees counterclockwise around the <strong>y-axis</strong>, -30 will be printed on the Debug Monitor.</p>
<a class="reference internal image-reference" href="_images/tip69.jpg"><img alt="_images/tip69.jpg" class="align-center" src="_images/tip69.jpg" style="width: 400px;" /></a>
</div>
<div class="section" id="make-gif">
<h2>Make Gif<a class="headerlink" href="#make-gif" title="Permalink to this headline">¶</a></h2>
<p>Draw multiple independent actions on the dot matrix screen. After the code runs, you can see a GIF animation.</p>
</div>
<div class="section" id="spirit-level">
<h2>Spirit Level<a class="headerlink" href="#spirit-level" title="Permalink to this headline">¶</a></h2>
<p>Make X Sense HAT a spirit level. By reading the changes in roll angle and pitch angle, we can know whether the X Sense HAT is level.</p>
</div>
<div class="section" id="gravity-ball-game">
<h2>Gravity Ball Game<a class="headerlink" href="#gravity-ball-game" title="Permalink to this headline">¶</a></h2>
<p>Next, we have a gravity ball game on X Sense HAT. After pressing the joystick, the game starts. You need to keep the ball in the middle, if the ball hits the edge, the game is over.</p>
</div>
<div class="section" id="compass">
<h2>Compass<a class="headerlink" href="#compass" title="Permalink to this headline">¶</a></h2>
<p>We make X Sense HAT into a compass. Draw a circle on the RGB dot matrix, and then use the green dot to indicate the current direction, and the red dot to indicate the true north direction.</p>
<p>The green arrow indicates the detect direction of X Sense HAT, you can use it to judge the current position.</p>
<a class="reference internal image-reference" href="_images/tip71.png"><img alt="_images/tip71.png" class="align-center" src="_images/tip71.png" style="width: 300px;" /></a>
<p>Azimuth Bearing refers to the number on the outer circle and the Azimuth is the angle from the north direction line to the target direction line in a clockwise direction.
For example, 0 degrees is the direction of true north, and 30 degrees is the direction of 30° east by north.</p>
<a class="reference internal image-reference" href="_images/tip47.png"><img alt="_images/tip47.png" class="align-center" src="_images/tip47.png" style="width: 300px;" /></a>
<p>Quadrant Bearing divides the direction of the compass into eight equal parts. For example, the NE direction is between 22.5 degrees and 67.5 degrees.
And between 67.5 degrees and 112.5 degrees is the E direction.</p>
<a class="reference internal image-reference" href="_images/tip68.jpg"><img alt="_images/tip68.jpg" class="align-center" src="_images/tip68.jpg" style="width: 360px;" /></a>
</div>
<div class="section" id="smart-sense-hat">
<h2>Smart Sense HAT<a class="headerlink" href="#smart-sense-hat" title="Permalink to this headline">¶</a></h2>
<p>We integrate the functions of X Sense HAT into a menu interface, press and hold the arrow keys of the joystick to select different functions, and press the joystick to execute the current function.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="play_on_other_programming_platforms.html" class="btn btn-neutral float-right" title="Play on Other Programming Platforms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="smart_sense_hat.html" class="btn btn-neutral float-left" title="Smart Sense HAT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, SunFounder.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>